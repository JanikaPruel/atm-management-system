### Описание задания

В этом проекте мы будем работать с системой управления банкоматами (ATM management system) на языке C. Нам предоставлен базовый код, который необходимо доработать и оптимизировать.

### Требуемые функции

Вы должны добавить следующие функции в существующее приложение:

1. **Регистрация**: регистрация новых пользователей. Имена пользователей должны быть уникальными.
2. **Обновление информации**: обновление информации о существующих аккаунтах (страна и номер телефона).
3. **Просмотр информации об аккаунте**: возможность просматривать детали конкретного аккаунта.
4. **Создание транзакций**: возможность совершать транзакции (внесение и снятие средств).
5. **Удаление аккаунта**: возможность удалять существующие аккаунты.
6. **Передача аккаунта**: возможность передавать аккаунт другому пользователю.

### Алгоритм выполнения проекта

1. **Изучите предоставленный код**: 
    - Ознакомьтесь с файлами `auth.c`, `main.c` и `system.c`.
    - Поймите структуру данных в файлах `users.txt` и `records.txt`.

2. **Добавление функции регистрации**:
    - Реализуйте уникальную регистрацию пользователей.
    - Обновите файл `users.txt` для сохранения новой информации.

3. **Обновление информации об аккаунте**:
    - Добавьте возможность изменения страны и номера телефона для аккаунта.
    - Обновите файл `records.txt` с новой информацией.

4. **Просмотр информации об аккаунте**:
    - Реализуйте возможность запроса информации об аккаунте по его ID.
    - Отображайте информацию об аккаунте и начисляемые проценты (если применимо).

5. **Создание транзакций**:
    - Добавьте возможность внесения и снятия средств.
    - Обновите файл `records.txt` после транзакций.
    - Убедитесь, что транзакции запрещены для фиксированных счетов.

6. **Удаление аккаунта**:
    - Реализуйте функцию удаления аккаунта.
    - Обновите файл `records.txt` для отражения изменений.

7. **Передача аккаунта**:
    - Добавьте возможность передачи аккаунта другому пользователю.
    - Обновите файл `records.txt` для отражения новых владельцев.

8. **Реализация бонусных функций** (опционально):
    - Улучшите интерфейс терминала.
    - Добавьте шифрование паролей.
    - Добавьте возможность моментального уведомления о передаче аккаунта.

### Структура проекта

```
atm-management-system/
├── data/
│   ├── records.txt            # Файл с информацией о счетах пользователей.
│   └── users.txt              # Файл с информацией о пользователях.
├── Makefile                   # Makefile для сборки проекта.
└── src/
    ├── auth.c                 # Аутентификация пользователей.
    ├── header.h               # Заголовочный файл с определениями структур и функций.
    ├── main.c                 # Основной файл программы.
    └── system.c               # Реализация функций системы управления.
```


### Краткое описание файлов

- **data/users.txt**: хранит информацию о пользователях (ID, имя, пароль).
- **data/records.txt**: хранит информацию о счетах (ID, ID пользователя, имя пользователя, ID счета, дата создания, страна, номер телефона, баланс, тип счета).
- **src/auth.c**: содержит функции для аутентификации пользователей.
- **src/header.h**: содержит определения структур данных и объявления функций.
- **src/main.c**: основной файл программы, содержащий `main` функцию и меню.
- **src/system.c**: содержит реализацию функций системы управления (регистрация, обновление информации, просмотр информации об аккаунтах, транзакции, удаление аккаунтов, передача аккаунтов).

### Пример кода для функции регистрации

```c
// src/system.c

#include "header.h"
#include <stdio.h>
#include <string.h>

// Функция для регистрации нового пользователя
void register_user() {
    FILE *file = fopen("data/users.txt", "a+");
    if (file == NULL) {
        perror("Unable to open users.txt");
        return;
    }

    User user;
    printf("Enter name: ");
    scanf("%s", user.name);
    
    // Проверка на уникальность имени
    User existing_user;
    while (fscanf(file, "%d %s %s", &existing_user.id, existing_user.name, existing_user.password) != EOF) {
        if (strcmp(existing_user.name, user.name) == 0) {
            printf("User with this name already exists.\n");
            fclose(file);
            return;
        }
    }

    // Запись нового пользователя в файл
    user.id = get_new_user_id();
    printf("Enter password: ");
    scanf("%s", user.password);
    fprintf(file, "%d %s %s\n", user.id, user.name, user.password);
    fclose(file);
    printf("User registered successfully.\n");
}

// Функция для получения нового ID пользователя
int get_new_user_id() {
    FILE *file = fopen("data/users.txt", "r");
    if (file == NULL) {
        perror("Unable to open users.txt");
        return -1;
    }

    int id = 0;
    User user;
    while (fscanf(file, "%d %s %s", &user.id, user.name, user.password) != EOF) {
        id = user.id + 1;
    }
    fclose(file);
    return id;
}
```
